!function(){"use strict";var $;$=jQuery,(new function(){var e=this;this.init=function(){$(document).on("ppress_updated_checkout",(function(){$("form#ppress_mb_checkout_form").on("ppress_process_checkout_razorpay",e.processCheckout)}))},this.clean_obj=function(e){for(var o=Object.getOwnPropertyNames(e),r=0;r<o.length;r++){var s=o[r];null!==e[s]&&void 0!==e[s]&&""!==e[s]||delete e[s]}return e},this.processCheckout=function(o,r,s){if("true"!==window.razorProcessCheckoutFlag&&!0===ppressCheckoutForm.is_var_defined(r.gateway_response)){window.razorProcessCheckoutFlag="true",window.razorpay_order_success_url=r.order_success_url;var t=r.gateway_response,c={key:ppressCheckoutForm.get_obj_val(t.key_id,""),amount:ppressCheckoutForm.get_obj_val(t.amount,""),currency:ppressCheckoutForm.get_obj_val(t.currency,""),name:ppressCheckoutForm.get_obj_val(t.business_name,""),description:ppressCheckoutForm.get_obj_val(t.description,""),image:ppressCheckoutForm.get_obj_val(t.image,""),handler:function(e){$(document.body).trigger("ppress_checkout_success",[e,s]),window.location.assign(window.razorpay_order_success_url)},modal:{animation:!1,ondismiss:function(){ppressCheckoutForm.remove_spinner()}},prefill:{name:ppressCheckoutForm.get_obj_val(t.customer_name,""),email:ppressCheckoutForm.get_obj_val(t.customer_email,""),contact:ppressCheckoutForm.get_obj_val(t.customer_phone,"")},theme:{color:ppressCheckoutForm.get_obj_val(t.theme_color,"")},notes:ppressCheckoutForm.get_obj_val(t.notes,{})};ppressCheckoutForm.is_var_defined(t.subscription_id)?c.subscription_id=t.subscription_id:c.order_id=ppressCheckoutForm.get_obj_val(t.order_id,"");var n=new Razorpay(e.clean_obj(c));return n.on("payment.failed",(function(e){window.razorProcessCheckoutFlag=!1,ppressCheckoutForm.removeAllAlerts(),ppressCheckoutForm.createAlertMessage(e.error.description)})),ppressCheckoutForm.removeAllAlerts(),n.open(),!1}}}).init()}();